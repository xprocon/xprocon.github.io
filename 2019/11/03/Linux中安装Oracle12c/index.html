<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="google-site-verification" content="xBT4GhYoi5qRD5tr338pgPM5OWHHIDR6mNg1a3euekI" />
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
    <meta name="description" content="这里是 @Procon普光 的个人博客，与你一起发现更大的世界">
    <meta name="keywords" content="普光, Procon普光, 博客, 个人网站, 互联网, Java , 后端">
    <meta name="theme-color" content="#000000">

    <!-- Open Graph -->
    <meta property="og:title"
        content="centos安装oracle12c - Procon's Tech Life Blog">
    
    <meta property="og:type" content="article">
    <meta property="og:description" content="Oracle12c安装
1.下载Oracle12c
下载Oracle12.2.0.1.0版本，选择Linux x86-64安装包
">
    
    <meta property="article:published_time" content=" 2019-11-03T12:00:00Z">
    
    
    <meta property="article:author" content="Procon">
    
    
    <meta property="article:tag" content="linux">
    
    <meta property="article:tag" content="oracle">
    
    <meta property="article:tag" content="运维">
    
    <meta property="article:tag" content="centos">
    
    
    <meta property="og:image" content="https://blog.procon.cchttps://procon-note.oss-cn-guangzhou.aliyuncs.com/typora/avatar_m.jpg">
    <meta property="og:url" content="https://blog.procon.cc/2019/11/03/Linux%E4%B8%AD%E5%AE%89%E8%A3%85Oracle12c/">
    <meta property="og:site_name" content="Procon's Tech Life Blog">

    <title>centos安装oracle12c - Procon's Tech Life Blog</title>

    <!-- Web App Manifest -->
    <link rel="manifest" href="/pwa/manifest.json">

    <!-- Favicon -->
    <link rel="shortcut icon" href="/img/favicon.ico">

    <!-- Canonical URL -->
    <link rel="canonical" href="https://blog.procon.cc/2019/11/03/Linux%E4%B8%AD%E5%AE%89%E8%A3%85Oracle12c/">

    <!-- Bootstrap Core CSS -->
    <link rel="stylesheet" href=" /css/bootstrap.min.css">

    <!-- Custom CSS -->
    <link rel="stylesheet" href=" /css/hux-blog.min.css">

    <!-- Custom Fonts -->
    <!-- <link href="http://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet" type="text/css"> -->
    <!-- Hux change font-awesome CDN to qiniu -->
    <link href="//cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet"
        type="text/css">


    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

    <!-- ga & ba script hoook -->
    <script></script>

    <!-- Google AdSense -->
    <script data-ad-client="ca-pub-6487568398225121" async
        src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
</head>


<!-- hack iOS CSS :active style -->
<body ontouchstart="">

    <!-- Navigation -->

<nav class="navbar navbar-default navbar-custom navbar-fixed-top invert">
    
        <div class="container-fluid">
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header page-scroll">
                <button type="button" class="navbar-toggle">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="/">Procon's Tech Life Blog</a>
            </div>

            <!-- Collect the nav links, forms, and other content for toggling -->
            <div id="huxblog_navbar">
                <div class="navbar-collapse">
                    <ul class="nav navbar-nav navbar-right">
                        <li>
                            <a href="/">Home</a>
                        </li>
                        
                        
                        
                        
                        <li>
                            <a href="/about/">About</a>
                        </li>
                        
                        
                        
                        <li>
                            <a href="/archive/">Archive</a>
                        </li>
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        <li class="search-icon">
                            <a href="javascript:void(0)">
                                <i class="fa fa-search"></i>
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
            <!-- /.navbar-collapse -->
        </div>
        <!-- /.container -->
    </nav>

    <script>
        // Drop Bootstarp low-performance Navbar
        // Use customize navbar with high-quality material design animation
        // in high-perf jank-free CSS3 implementation
        var $body = document.body;
        var $toggle = document.querySelector('.navbar-toggle');
        var $navbar = document.querySelector('#huxblog_navbar');
        var $collapse = document.querySelector('.navbar-collapse');

        var __HuxNav__ = {
            close: function () {
                $navbar.className = " ";
                // wait until animation end.
                setTimeout(function () {
                    // prevent frequently toggle
                    if ($navbar.className.indexOf('in') < 0) {
                        $collapse.style.height = "0px"
                    }
                }, 400)
            },
            open: function () {
                $collapse.style.height = "auto"
                $navbar.className += " in";
            }
        }

        // Bind Event
        $toggle.addEventListener('click', function (e) {
            if ($navbar.className.indexOf('in') > 0) {
                __HuxNav__.close()
            } else {
                __HuxNav__.open()
            }
        })

        /**
         * Since Fastclick is used to delegate 'touchstart' globally
         * to hack 300ms delay in iOS by performing a fake 'click',
         * Using 'e.stopPropagation' to stop 'touchstart' event from 
         * $toggle/$collapse will break global delegation.
         * 
         * Instead, we use a 'e.target' filter to prevent handler
         * added to document close HuxNav.  
         *
         * Also, we use 'click' instead of 'touchstart' as compromise
         */
        document.addEventListener('click', function (e) {
            if (e.target == $toggle) return;
            if (e.target.className == 'icon-bar') return;
            __HuxNav__.close();
        })
    </script>
    <!-- Search -->
<div class="search-page">
  <div class="search-icon-close-container">
    <span class="search-icon-close">
      <i class="fa fa-chevron-down"></i>
    </span>
  </div>
  <div class="search-main container">
    <div class="row">
      <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
        <form></form>
        <input type="text" id="search-input" placeholder="$ grep...">
        </form>
        <div id="search-results" class="mini-post-list"></div>
      </div>
    </div>
  </div>
</div>

    <!-- Image to hack wechat -->
<!-- <img src="/img/icon_wechat.png" width="0" height="0"> -->
<!-- <img src="/img/home-bg-geek.jpg" width="0" height="0"> -->

<!-- Post Header -->



<style type="text/css">
    header.intro-header{
        position: relative;
        background-image: url('/img/home-bg-geek.jpg');
        background: ;
    }

    
</style>




<header class="intro-header style-text" >

    <div class="header-mask"></div>
    
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <div class="post-heading">
                    <div class="tags">
                        
                        <a class="tag" href="/archive/?tag=linux" title="linux">linux</a>
                        
                        <a class="tag" href="/archive/?tag=oracle" title="oracle">oracle</a>
                        
                        <a class="tag" href="/archive/?tag=%E8%BF%90%E7%BB%B4" title="运维">运维</a>
                        
                        <a class="tag" href="/archive/?tag=centos" title="centos">centos</a>
                        
                    </div>
                    <h1>centos安装oracle12c</h1>
                    
                    <h2 class="subheading"></h2>
                    <span class="meta">Posted by Procon on November 3, 2019</span>
                </div>
            </div>
        </div>
    </div>
</header>







<!-- Post Content -->
<article>
    <div class="container">
        <div class="row">

    <!-- Post Container -->
            <div class="
                col-lg-8 col-lg-offset-2
                col-md-10 col-md-offset-1
                post-container">

                <!-- Multi-Lingual -->
                

				<h1 id="oracle12c安装">Oracle12c安装</h1>
<h1 id="1下载oracle12c">1.下载Oracle12c</h1>
<p><a href="http://www.oracle.com/technetwork/database/enterprise-edition/downloads/index.html">下载Oracle</a>12.2.0.1.0版本，选择<a href="http://download.oracle.com/otn/linux/oracle12c/122010/linuxx64_12201_database.zip">Linux x86-64</a>安装包</p>

<h1 id="2配置主机名和ip的映射">2.配置主机名和IP的映射</h1>
<p><code class="language-plaintext highlighter-rouge">vi /etc/hosts</code>，添加配置项<code class="language-plaintext highlighter-rouge">192.168.1.200 solang</code></p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre></td><td class="rouge-code"><pre>127.0.0.1   localhost localhost.localdomain localhost4 localhost4.localdomain4
::1         localhost localhost.localdomain localhost6 localhost6.localdomain6

192.168.1.200  solang
</pre></td></tr></tbody></table></code></pre></div></div>
<h1 id="3oracle安装的先决条件">3.Oracle安装的先决条件</h1>
<p>参见<a href="https://oracle-base.com/articles/12c/oracle-db-12cr2-installation-on-oracle-linux-6-and-7">Oracle Database 12c Release 2 (12.2) Installation On Oracle Linux 6 (OL6) and 7 (OL7)</a></p>

<blockquote>
  <p>Perform either the Automatic Setup or the Manual Setup to complete the
basic prerequisites. The Additional Setup is required for all installations.
执行自动设置或手动设置完成基本先决条件。所有安装都需要进行附加设置。</p>
</blockquote>

<p>这里我们选择手动设置先决条件</p>

<h2 id="31手动设置">3.1手动设置</h2>
<h3 id="311配置内核参数">3.1.1配置内核参数</h3>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="o">[</span>root@solang ~]# vi /etc/sysctl.conf 
</pre></td></tr></tbody></table></code></pre></div></div>
<p>添加如下行：</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
</pre></td><td class="rouge-code"><pre>fs.file-max <span class="o">=</span> 6815744
kernel.sem <span class="o">=</span> 250 32000 100 128
kernel.shmmni <span class="o">=</span> 4096
kernel.shmall <span class="o">=</span> 1073741824
kernel.shmmax <span class="o">=</span> 4398046511104
kernel.panic_on_oops <span class="o">=</span> 1
net.core.rmem_default <span class="o">=</span> 262144
net.core.rmem_max <span class="o">=</span> 4194304
net.core.wmem_default <span class="o">=</span> 262144
net.core.wmem_max <span class="o">=</span> 1048576
net.ipv4.conf.all.rp_filter <span class="o">=</span> 2
net.ipv4.conf.default.rp_filter <span class="o">=</span> 2
fs.aio-max-nr <span class="o">=</span> 1048576
net.ipv4.ip_local_port_range <span class="o">=</span> 9000 65500
</pre></td></tr></tbody></table></code></pre></div></div>
<p>运行<code class="language-plaintext highlighter-rouge">sysctl -p</code>命令更改当前内核参数</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
</pre></td><td class="rouge-code"><pre><span class="o">[</span>root@solang ~]# sysctl <span class="nt">-p</span>
net.ipv6.conf.all.disable_ipv6 <span class="o">=</span> 1
net.ipv6.conf.default.disable_ipv6 <span class="o">=</span> 1
net.ipv6.conf.lo.disable_ipv6 <span class="o">=</span> 1
vm.swappiness <span class="o">=</span> 0
net.ipv4.neigh.default.gc_stale_time <span class="o">=</span> 120
net.ipv4.conf.all.rp_filter <span class="o">=</span> 0
net.ipv4.conf.default.rp_filter <span class="o">=</span> 0
net.ipv4.conf.default.arp_announce <span class="o">=</span> 2
net.ipv4.conf.lo.arp_announce <span class="o">=</span> 2
net.ipv4.conf.all.arp_announce <span class="o">=</span> 2
net.ipv4.tcp_max_tw_buckets <span class="o">=</span> 5000
net.ipv4.tcp_syncookies <span class="o">=</span> 1
net.ipv4.tcp_max_syn_backlog <span class="o">=</span> 1024
net.ipv4.tcp_synack_retries <span class="o">=</span> 2
fs.file-max <span class="o">=</span> 6815744
kernel.sem <span class="o">=</span> 250 32000 100 128
kernel.shmmni <span class="o">=</span> 4096
kernel.shmall <span class="o">=</span> 1073741824
kernel.shmmax <span class="o">=</span> 4398046511104
kernel.panic_on_oops <span class="o">=</span> 1
net.core.rmem_default <span class="o">=</span> 262144
net.core.rmem_max <span class="o">=</span> 4194304
net.core.wmem_default <span class="o">=</span> 262144
net.core.wmem_max <span class="o">=</span> 1048576
net.ipv4.conf.all.rp_filter <span class="o">=</span> 2
net.ipv4.conf.default.rp_filter <span class="o">=</span> 2
fs.aio-max-nr <span class="o">=</span> 1048576
net.ipv4.ip_local_port_range <span class="o">=</span> 9000 65500
</pre></td></tr></tbody></table></code></pre></div></div>
<h3 id="312限制oracle用户资源使用">3.1.2限制oracle用户资源使用</h3>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre><span class="o">[</span>root@solang ~]# vi /etc/security/limits.conf 
1
</pre></td></tr></tbody></table></code></pre></div></div>
<p>添加如下行：</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre></td><td class="rouge-code"><pre>oracle   soft   nofile    1024
oracle   hard   nofile    65536
oracle   soft   <span class="nb">nproc    </span>16384
oracle   hard   <span class="nb">nproc    </span>16384
oracle   soft   stack    10240
oracle   hard   stack    32768
oracle   hard   memlock    134217728
oracle   soft   memlock    134217728
</pre></td></tr></tbody></table></code></pre></div></div>
<h3 id="313安装依赖软件包">3.1.3安装依赖软件包</h3>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
</pre></td><td class="rouge-code"><pre>yum <span class="nb">install </span>binutils <span class="nt">-y</span>
yum <span class="nb">install </span>compat-libcap1 <span class="nt">-y</span>
yum <span class="nb">install </span>compat-libstdc++-33 <span class="nt">-y</span>
yum <span class="nb">install </span>compat-libstdc++-33.i686 <span class="nt">-y</span>
yum <span class="nb">install </span>glibc <span class="nt">-y</span>
yum <span class="nb">install </span>glibc.i686 <span class="nt">-y</span>
yum <span class="nb">install </span>glibc-devel <span class="nt">-y</span>
yum <span class="nb">install </span>glibc-devel.i686 <span class="nt">-y</span>
yum <span class="nb">install </span>ksh <span class="nt">-y</span>
yum <span class="nb">install </span>libaio <span class="nt">-y</span>
yum <span class="nb">install </span>libaio.i686 <span class="nt">-y</span>
yum <span class="nb">install </span>libaio-devel <span class="nt">-y</span>
yum <span class="nb">install </span>libaio-devel.i686 <span class="nt">-y</span>
yum <span class="nb">install </span>libX11 <span class="nt">-y</span>
yum <span class="nb">install </span>libX11.i686 <span class="nt">-y</span>
yum <span class="nb">install </span>libXau <span class="nt">-y</span>
yum <span class="nb">install </span>libXau.i686 <span class="nt">-y</span>
yum <span class="nb">install </span>libXi <span class="nt">-y</span>
yum <span class="nb">install </span>libXi.i686 <span class="nt">-y</span>
yum <span class="nb">install </span>libXtst <span class="nt">-y</span>
yum <span class="nb">install </span>libXtst.i686 <span class="nt">-y</span>
yum <span class="nb">install </span>libgcc <span class="nt">-y</span>
yum <span class="nb">install </span>libgcc.i686 <span class="nt">-y</span>
yum <span class="nb">install </span>libstdc++ <span class="nt">-y</span>
yum <span class="nb">install </span>libstdc++.i686 <span class="nt">-y</span>
yum <span class="nb">install </span>libstdc++-devel <span class="nt">-y</span>
yum <span class="nb">install </span>libstdc++-devel.i686 <span class="nt">-y</span>
yum <span class="nb">install </span>libxcb <span class="nt">-y</span>
yum <span class="nb">install </span>libxcb.i686 <span class="nt">-y</span>
yum <span class="nb">install </span>make <span class="nt">-y</span>
yum <span class="nb">install </span>nfs-utils <span class="nt">-y</span>
yum <span class="nb">install </span>net-tools <span class="nt">-y</span>
yum <span class="nb">install </span>smartmontools <span class="nt">-y</span>
yum <span class="nb">install </span>sysstat <span class="nt">-y</span>
yum <span class="nb">install </span>unixODBC <span class="nt">-y</span>
yum <span class="nb">install </span>unixODBC-devel <span class="nt">-y</span>
</pre></td></tr></tbody></table></code></pre></div></div>
<h3 id="314创建新组和新用户">3.1.4创建新组和新用户</h3>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
</pre></td><td class="rouge-code"><pre>groupadd <span class="nt">-g</span> 54321 oinstall
groupadd <span class="nt">-g</span> 54322 dba
groupadd <span class="nt">-g</span> 54323 oper

useradd <span class="nt">-u</span> 54321 <span class="nt">-g</span> oinstall <span class="nt">-G</span> dba,oper oracle

<span class="o">[</span>root@solang ~]# groupadd <span class="nt">-g</span> 54321 oinstall
<span class="o">[</span>root@solang ~]# groupadd <span class="nt">-g</span> 54322 dba
<span class="o">[</span>root@solang ~]# groupadd <span class="nt">-g</span> 54323 oper

<span class="o">[</span>root@solang ~]# useradd <span class="nt">-u</span> 54321 <span class="nt">-g</span> oinstall <span class="nt">-G</span> dba,oper oracle
</pre></td></tr></tbody></table></code></pre></div></div>
<p>不必非要按照叫<code class="language-plaintext highlighter-rouge">oinstall</code>，和<code class="language-plaintext highlighter-rouge">dba</code>，只不过一般文档上就这么叫
<code class="language-plaintext highlighter-rouge">oinstall</code>组用于安装数据库
<code class="language-plaintext highlighter-rouge">dba</code>组用于管理数据库
<code class="language-plaintext highlighter-rouge">-g</code>表示这个用户的主组
<code class="language-plaintext highlighter-rouge">-G</code>标识这个用户的其它组</p>

<p>一个用户可以属于多个用户组，但是一个用户只能指定一个组作为其主组</p>

<h2 id="32附加设置">3.2附加设置</h2>
<blockquote>
  <p>The following steps must be performed, whether you did the manual or automatic setup.
无论是手动还是自动设置，都必须执行以下步骤。</p>
</blockquote>

<h3 id="321为oracle用户设置密码">3.2.1为oracle用户设置密码</h3>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="o">[</span>oracle@solang ~]<span class="nv">$ </span>passwd oracle
</pre></td></tr></tbody></table></code></pre></div></div>
<h3 id="322修改设置selinux">3.2.2修改设置SELINUX</h3>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td><td class="rouge-code"><pre><span class="o">[</span>root@solang ~]# vi /etc/selinux/config
<span class="c">## 将`SELINUX`修改为permissive</span>
<span class="nv">SELINUX</span><span class="o">=</span>permissive
<span class="o">[</span>root@solang ~]# setenforce Permissive
setenforce: SELinux is disabled
</pre></td></tr></tbody></table></code></pre></div></div>
<h3 id="323确保禁用防火墙">3.2.3确保禁用防火墙</h3>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre><span class="o">[</span>root@solang ~]# systemctl stop firewalld
<span class="o">[</span>root@solang ~]# systemctl disable firewalld
</pre></td></tr></tbody></table></code></pre></div></div>
<h3 id="324创建oracle安装目录">3.2.4创建Oracle安装目录</h3>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre><span class="o">[</span>root@solang ~]# <span class="nb">mkdir</span> <span class="nt">-p</span> /usr/local/products/oracle12c
<span class="o">[</span>root@solang ~]# <span class="nb">chown</span> <span class="nt">-R</span> oracle:oinstall /usr/local
<span class="o">[</span>root@solang ~]# <span class="nb">chmod</span> <span class="nt">-R</span> 775 /usr/local/
</pre></td></tr></tbody></table></code></pre></div></div>
<p>也可以按照<a href="https://oracle-base.com/articles/12c/oracle-db-12cr2-installation-on-oracle-linux-6-and-7">Oracle安装文档</a>上的路径进行设置</p>

<h3 id="325配置oracle环境变量并验证">3.2.5配置Oracle环境变量并验证</h3>
<p>切换到新添加的oracle用户名下，在oracle用户下配置环境变量</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
</pre></td><td class="rouge-code"><pre><span class="o">[</span>root@solang ~]# su oracle
<span class="o">[</span>oracle@solang ~]<span class="nv">$ </span>vi .bash_profile

<span class="nb">export </span><span class="nv">TMP</span><span class="o">=</span>/tmp
<span class="nb">export </span><span class="nv">TMPDIR</span><span class="o">=</span><span class="nv">$TMP</span>

<span class="nb">export </span><span class="nv">ORACLE_HOSTNAME</span><span class="o">=</span>solang
<span class="nb">export </span><span class="nv">ORACLE_UNQNAME</span><span class="o">=</span>cdb1
<span class="nb">export </span><span class="nv">ORACLE_BASE</span><span class="o">=</span>/usr/local/products
<span class="nb">export </span><span class="nv">ORACLE_HOME</span><span class="o">=</span><span class="nv">$ORACLE_BASE</span>/oracle12c
<span class="nb">export </span><span class="nv">ORACLE_SID</span><span class="o">=</span>cdb1

<span class="nb">export </span><span class="nv">PATH</span><span class="o">=</span>/usr/sbin:/usr/local/bin:<span class="nv">$PATH</span>
<span class="nb">export </span><span class="nv">PATH</span><span class="o">=</span><span class="nv">$ORACLE_HOME</span>/bin:<span class="nv">$PATH</span>

<span class="nb">export </span><span class="nv">LD_LIBRARY_PATH</span><span class="o">=</span><span class="nv">$ORACLE_HOME</span>/lib:/lib:/usr/lib
<span class="nb">export </span><span class="nv">CLASSPATH</span><span class="o">=</span><span class="nv">$ORACLE_HOME</span>/jlib:<span class="nv">$ORACLE_HOME</span>/rdbms/jlib
</pre></td></tr></tbody></table></code></pre></div></div>
<p>使配置立即生效</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre></td><td class="rouge-code"><pre><span class="o">[</span>oracle@solang ~]<span class="nv">$ </span><span class="nb">source</span> .bash_profile 

<span class="o">[</span>oracle@solang ~]<span class="nv">$ </span><span class="nb">echo</span> <span class="nv">$ORACLE_HOME</span>
/usr/local/products/oracle12c
</pre></td></tr></tbody></table></code></pre></div></div>
<h1 id="4oracle安装">4.Oracle安装</h1>
<h2 id="41上传解压">4.1上传解压</h2>
<p>将下载的linuxx64_12201_database.zip上传到Linux系统<code class="language-plaintext highlighter-rouge">/home/oracle</code>目录下</p>

<p>解压</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="o">[</span>oracle@solang ~]<span class="nv">$ </span>unzip linuxx64_12201_database.zip
</pre></td></tr></tbody></table></code></pre></div></div>
<h2 id="42修改响应文件">4.2修改响应文件</h2>
<p>压缩包解压完成后得到名为<code class="language-plaintext highlighter-rouge">database</code>的文件夹，其中包含安装文件。</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre><span class="o">[</span>oracle@solang ~]<span class="nv">$ </span><span class="nb">cd </span>database/response/
<span class="o">[</span>oracle@solang response]<span class="nv">$ </span>vi db_install.rsp
</pre></td></tr></tbody></table></code></pre></div></div>
<p>此数据库安装响应文件db_install.rsp修改的地方，参见<a href="https://oracle-base.com/articles/misc/oui-silent-installations">Oracle Universal Installer (OUI) Silent Installations</a>中12cR2进行设置</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
</pre></td><td class="rouge-code"><pre>oracle.install.option<span class="o">=</span>INSTALL_DB_SWONLY
<span class="nv">UNIX_GROUP_NAME</span><span class="o">=</span>oinstall
<span class="nv">INVENTORY_LOCATION</span><span class="o">=</span>/usr/local/products/oracle12c/oraInventory
<span class="nv">ORACLE_HOME</span><span class="o">=</span>/usr/local/products/oracle12c
<span class="nv">ORACLE_BASE</span><span class="o">=</span>/usr/local/products
oracle.install.db.InstallEdition<span class="o">=</span>EE
oracle.install.db.OSDBA_GROUP<span class="o">=</span>dba
oracle.install.db.OSBACKUPDBA_GROUP<span class="o">=</span>dba
oracle.install.db.OSDGDBA_GROUP<span class="o">=</span>dba
oracle.install.db.OSKMDBA_GROUP<span class="o">=</span>dba
oracle.install.db.OSRACDBA_GROUP<span class="o">=</span>dba
</pre></td></tr></tbody></table></code></pre></div></div>
<p>由于安装时本人将指定保存清单文件的位置设置到了<code class="language-plaintext highlighter-rouge">$ORACLE_BASE</code>目录下，出现了警告</p>

<blockquote>
  <p>WARNING The Central Inventory is located in the Oracle base.
ACTION: Oracle recommends placing this Central Inventory in a location outside the Oracle base directory.
警告 中央清单位于Oracle base中。
操作：Oracle建议将此中央清单放在Oracle基本目录之外的位置。</p>
</blockquote>

<p>建议将清单文件位置修改为<code class="language-plaintext highlighter-rouge">INVENTORY_LOCATION=/usr/local/oraInventory</code>，不在<code class="language-plaintext highlighter-rouge">$ORACLE_BASE</code>目录下即可。</p>

<p><strong>注意：如果不想修改db_install.rsp，可以采用命令行方式直接指定参数进行安装，参见</strong><strong>4.3静默安装Oracle</strong></p>

<p>db_install.rsp完整内容如下</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321
322
323
324
325
326
327
328
329
330
331
332
333
334
335
336
337
338
339
340
341
342
343
344
345
346
347
348
349
350
351
352
353
354
355
356
357
358
359
360
361
362
363
364
365
366
367
368
369
370
371
372
373
374
375
376
377
378
379
380
381
382
383
384
385
386
387
388
389
390
391
392
393
394
395
396
397
398
399
400
401
402
403
404
405
406
407
408
409
410
411
412
413
414
415
416
417
418
419
420
421
422
423
424
425
426
427
428
429
430
431
432
433
434
435
</pre></td><td class="rouge-code"><pre><span class="c">####################################################################</span>
<span class="c">## Copyright(c) Oracle Corporation 1998,2017. All rights reserved.##</span>
<span class="c">##                                                                ##</span>
<span class="c">## Specify values for the variables listed below to customize     ##</span>
<span class="c">## your installation.                                             ##</span>
<span class="c">##                                                                ##</span>
<span class="c">## Each variable is associated with a comment. The comment        ##</span>
<span class="c">## can help to populate the variables with the appropriate        ##</span>
<span class="c">## values.                                                        ##</span>
<span class="c">##                                                                ##</span>
<span class="c">## IMPORTANT NOTE: This file contains plain text passwords and    ##</span>
<span class="c">## should be secured to have read permission only by oracle user  ##</span>
<span class="c">## or db administrator who owns this installation.                ##</span>
<span class="c">##                                                                ##</span>
<span class="c">####################################################################</span>


<span class="c">#-------------------------------------------------------------------------------</span>
<span class="c"># Do not change the following system generated value. </span>
<span class="c">#-------------------------------------------------------------------------------</span>
oracle.install.responseFileVersion<span class="o">=</span>/oracle/install/rspfmt_dbinstall_response_schema_v12.2.0

<span class="c">#-------------------------------------------------------------------------------</span>
<span class="c"># Specify the installation option.</span>
<span class="c"># It can be one of the following:</span>
<span class="c">#   - INSTALL_DB_SWONLY</span>
<span class="c">#   - INSTALL_DB_AND_CONFIG</span>
<span class="c">#   - UPGRADE_DB</span>
<span class="c">#-------------------------------------------------------------------------------</span>
oracle.install.option<span class="o">=</span>INSTALL_DB_SWONLY

<span class="c">#-------------------------------------------------------------------------------</span>
<span class="c"># Specify the Unix group to be set for the inventory directory.  </span>
<span class="c">#-------------------------------------------------------------------------------</span>
<span class="nv">UNIX_GROUP_NAME</span><span class="o">=</span>oinstall

<span class="c">#-------------------------------------------------------------------------------</span>
<span class="c"># Specify the location which holds the inventory files.</span>
<span class="c"># This is an optional parameter if installing on</span>
<span class="c"># Windows based Operating System.</span>
<span class="c">#-------------------------------------------------------------------------------</span>
<span class="nv">INVENTORY_LOCATION</span><span class="o">=</span>/usr/local/products/oracle12c/oraInventory
<span class="c">#-------------------------------------------------------------------------------</span>
<span class="c"># Specify the complete path of the Oracle Home. </span>
<span class="c">#-------------------------------------------------------------------------------</span>
<span class="nv">ORACLE_HOME</span><span class="o">=</span>/usr/local/products/oracle12c

<span class="c">#-------------------------------------------------------------------------------</span>
<span class="c"># Specify the complete path of the Oracle Base. </span>
<span class="c">#-------------------------------------------------------------------------------</span>
<span class="nv">ORACLE_BASE</span><span class="o">=</span>/usr/local/products

<span class="c">#-------------------------------------------------------------------------------</span>
<span class="c"># Specify the installation edition of the component.                     </span>
<span class="c">#                                                             </span>
<span class="c"># The value should contain only one of these choices.  </span>
<span class="c">#   - EE     : Enterprise Edition </span>
<span class="c">#   - SE2     : Standard Edition 2</span>


<span class="c">#-------------------------------------------------------------------------------</span>

oracle.install.db.InstallEdition<span class="o">=</span>EE
<span class="c">###############################################################################</span>
<span class="c">#                                                                             #</span>
<span class="c"># PRIVILEGED OPERATING SYSTEM GROUPS                                          #</span>
<span class="c"># ------------------------------------------                                  #</span>
<span class="c"># Provide values for the OS groups to which SYSDBA and SYSOPER privileges     #</span>
<span class="c"># needs to be granted. If the install is being performed as a member of the   #</span>
<span class="c"># group "dba", then that will be used unless specified otherwise below.       #</span>
<span class="c">#                                                                             #</span>
<span class="c"># The value to be specified for OSDBA and OSOPER group is only for UNIX based #</span>
<span class="c"># Operating System.                                                           #</span>
<span class="c">#                                                                             #</span>
<span class="c">###############################################################################</span>

<span class="c">#------------------------------------------------------------------------------</span>
<span class="c"># The OSDBA_GROUP is the OS group which is to be granted SYSDBA privileges.</span>
<span class="c">#-------------------------------------------------------------------------------</span>
oracle.install.db.OSDBA_GROUP<span class="o">=</span>dba

<span class="c">#------------------------------------------------------------------------------</span>
<span class="c"># The OSOPER_GROUP is the OS group which is to be granted SYSOPER privileges.</span>
<span class="c"># The value to be specified for OSOPER group is optional.</span>
<span class="c">#------------------------------------------------------------------------------</span>
oracle.install.db.OSOPER_GROUP<span class="o">=</span>dba

<span class="c">#------------------------------------------------------------------------------</span>
<span class="c"># The OSBACKUPDBA_GROUP is the OS group which is to be granted SYSBACKUP privileges.</span>
<span class="c">#------------------------------------------------------------------------------</span>
oracle.install.db.OSBACKUPDBA_GROUP<span class="o">=</span>dba

<span class="c">#------------------------------------------------------------------------------</span>
<span class="c"># The OSDGDBA_GROUP is the OS group which is to be granted SYSDG privileges.</span>
<span class="c">#------------------------------------------------------------------------------</span>
oracle.install.db.OSDGDBA_GROUP<span class="o">=</span>dba

<span class="c">#------------------------------------------------------------------------------</span>
<span class="c"># The OSKMDBA_GROUP is the OS group which is to be granted SYSKM privileges.</span>
<span class="c">#------------------------------------------------------------------------------</span>
oracle.install.db.OSKMDBA_GROUP<span class="o">=</span>dba

<span class="c">#------------------------------------------------------------------------------</span>
<span class="c"># The OSRACDBA_GROUP is the OS group which is to be granted SYSRAC privileges.</span>
<span class="c">#------------------------------------------------------------------------------</span>
oracle.install.db.OSRACDBA_GROUP<span class="o">=</span>dba

<span class="c">###############################################################################</span>
<span class="c">#                                                                             #</span>
<span class="c">#                               Grid Options                                  #</span>
<span class="c">#                                                                             #</span>
<span class="c">###############################################################################</span>
<span class="c">#------------------------------------------------------------------------------</span>
<span class="c"># Specify the type of Real Application Cluster Database</span>
<span class="c"># </span>
<span class="c">#   - ADMIN_MANAGED: Admin-Managed</span>
<span class="c">#   - POLICY_MANAGED: Policy-Managed</span>
<span class="c"># </span>
<span class="c"># If left unspecified, default will be ADMIN_MANAGED </span>
<span class="c">#------------------------------------------------------------------------------</span>
oracle.install.db.rac.configurationType<span class="o">=</span>

<span class="c">#------------------------------------------------------------------------------</span>
<span class="c"># Value is required only if RAC database type is ADMIN_MANAGED</span>
<span class="c"># </span>
<span class="c"># Specify the cluster node names selected during the installation.</span>
<span class="c"># Leaving it blank will result in install on local server only (Single Instance)</span>
<span class="c"># </span>
<span class="c"># Example : oracle.install.db.CLUSTER_NODES=node1,node2</span>
<span class="c">#------------------------------------------------------------------------------</span>
oracle.install.db.CLUSTER_NODES<span class="o">=</span>

<span class="c">#------------------------------------------------------------------------------</span>
<span class="c"># This variable is used to enable or disable RAC One Node install.</span>
<span class="c">#</span>
<span class="c">#   - true  : Value of RAC One Node service name is used.</span>
<span class="c">#   - false : Value of RAC One Node service name is not used.</span>
<span class="c">#</span>
<span class="c"># If left blank, it will be assumed to be false.</span>
<span class="c">#------------------------------------------------------------------------------</span>
oracle.install.db.isRACOneInstall<span class="o">=</span>

<span class="c">#------------------------------------------------------------------------------</span>
<span class="c"># Value is required only if oracle.install.db.isRACOneInstall is true.</span>
<span class="c"># </span>
<span class="c"># Specify the name for RAC One Node Service</span>
<span class="c">#------------------------------------------------------------------------------</span>
oracle.install.db.racOneServiceName<span class="o">=</span>

<span class="c">#------------------------------------------------------------------------------</span>
<span class="c"># Value is required only if RAC database type is POLICY_MANAGED</span>
<span class="c"># </span>
<span class="c"># Specify a name for the new Server pool that will be configured</span>
<span class="c"># Example : oracle.install.db.rac.serverpoolName=pool1</span>
<span class="c">#------------------------------------------------------------------------------</span>
oracle.install.db.rac.serverpoolName<span class="o">=</span>

<span class="c">#------------------------------------------------------------------------------</span>
<span class="c"># Value is required only if RAC database type is POLICY_MANAGED</span>
<span class="c"># </span>
<span class="c"># Specify a number as cardinality for the new Server pool that will be configured</span>
<span class="c"># Example : oracle.install.db.rac.serverpoolCardinality=2</span>
<span class="c">#------------------------------------------------------------------------------</span>
oracle.install.db.rac.serverpoolCardinality<span class="o">=</span>

<span class="c">###############################################################################</span>
<span class="c">#                                                                             #</span>
<span class="c">#                        Database Configuration Options                       #</span>
<span class="c">#                                                                             #</span>
<span class="c">###############################################################################</span>

<span class="c">#-------------------------------------------------------------------------------</span>
<span class="c"># Specify the type of database to create.</span>
<span class="c"># It can be one of the following:</span>
<span class="c">#   - GENERAL_PURPOSE                       </span>
<span class="c">#   - DATA_WAREHOUSE </span>
<span class="c"># GENERAL_PURPOSE: A starter database designed for general purpose use or transaction-heavy applications.</span>
<span class="c"># DATA_WAREHOUSE : A starter database optimized for data warehousing applications.</span>
<span class="c">#-------------------------------------------------------------------------------</span>
oracle.install.db.config.starterdb.type<span class="o">=</span>

<span class="c">#-------------------------------------------------------------------------------</span>
<span class="c"># Specify the Starter Database Global Database Name. </span>
<span class="c">#-------------------------------------------------------------------------------</span>
oracle.install.db.config.starterdb.globalDBName<span class="o">=</span>

<span class="c">#-------------------------------------------------------------------------------</span>
<span class="c"># Specify the Starter Database SID.</span>
<span class="c">#-------------------------------------------------------------------------------</span>
oracle.install.db.config.starterdb.SID<span class="o">=</span>

<span class="c">#-------------------------------------------------------------------------------</span>
<span class="c"># Specify whether the database should be configured as a Container database.</span>
<span class="c"># The value can be either "true" or "false". If left blank it will be assumed</span>
<span class="c"># to be "false".</span>
<span class="c">#-------------------------------------------------------------------------------</span>
oracle.install.db.ConfigureAsContainerDB<span class="o">=</span>

<span class="c">#-------------------------------------------------------------------------------</span>
<span class="c"># Specify the  Pluggable Database name for the pluggable database in Container Database.</span>
<span class="c">#-------------------------------------------------------------------------------</span>
oracle.install.db.config.PDBName<span class="o">=</span>

<span class="c">#-------------------------------------------------------------------------------</span>
<span class="c"># Specify the Starter Database character set.</span>
<span class="c">#                                               </span>
<span class="c">#  One of the following</span>
<span class="c">#  AL32UTF8, WE8ISO8859P15, WE8MSWIN1252, EE8ISO8859P2,</span>
<span class="c">#  EE8MSWIN1250, NE8ISO8859P10, NEE8ISO8859P4, BLT8MSWIN1257,</span>
<span class="c">#  BLT8ISO8859P13, CL8ISO8859P5, CL8MSWIN1251, AR8ISO8859P6,</span>
<span class="c">#  AR8MSWIN1256, EL8ISO8859P7, EL8MSWIN1253, IW8ISO8859P8,</span>
<span class="c">#  IW8MSWIN1255, JA16EUC, JA16EUCTILDE, JA16SJIS, JA16SJISTILDE,</span>
<span class="c">#  KO16MSWIN949, ZHS16GBK, TH8TISASCII, ZHT32EUC, ZHT16MSWIN950,</span>
<span class="c">#  ZHT16HKSCS, WE8ISO8859P9, TR8MSWIN1254, VN8MSWIN1258</span>
<span class="c">#-------------------------------------------------------------------------------</span>
oracle.install.db.config.starterdb.characterSet<span class="o">=</span>

<span class="c">#------------------------------------------------------------------------------</span>
<span class="c"># This variable should be set to true if Automatic Memory Management </span>
<span class="c"># in Database is desired.</span>
<span class="c"># If Automatic Memory Management is not desired, and memory allocation</span>
<span class="c"># is to be done manually, then set it to false.</span>
<span class="c">#------------------------------------------------------------------------------</span>
oracle.install.db.config.starterdb.memoryOption<span class="o">=</span>

<span class="c">#-------------------------------------------------------------------------------</span>
<span class="c"># Specify the total memory allocation for the database. Value(in MB) should be</span>
<span class="c"># at least 256 MB, and should not exceed the total physical memory available </span>
<span class="c"># on the system.</span>
<span class="c"># Example: oracle.install.db.config.starterdb.memoryLimit=512</span>
<span class="c">#-------------------------------------------------------------------------------</span>
oracle.install.db.config.starterdb.memoryLimit<span class="o">=</span>

<span class="c">#-------------------------------------------------------------------------------</span>
<span class="c"># This variable controls whether to load Example Schemas onto</span>
<span class="c"># the starter database or not.</span>
<span class="c"># The value can be either "true" or "false". If left blank it will be assumed</span>
<span class="c"># to be "false".</span>
<span class="c">#-------------------------------------------------------------------------------</span>
oracle.install.db.config.starterdb.installExampleSchemas<span class="o">=</span>

<span class="c">###############################################################################</span>
<span class="c">#                                                                             #</span>
<span class="c"># Passwords can be supplied for the following four schemas in the             #</span>
<span class="c"># starter database:                                                           #</span>
<span class="c">#   SYS                                                                       #</span>
<span class="c">#   SYSTEM                                                                    #</span>
<span class="c">#   DBSNMP (used by Enterprise Manager)                                       #</span>
<span class="c">#                                                                             #</span>
<span class="c"># Same password can be used for all accounts (not recommended)                #</span>
<span class="c"># or different passwords for each account can be provided (recommended)       #</span>
<span class="c">#                                                                             #</span>
<span class="c">###############################################################################</span>

<span class="c">#------------------------------------------------------------------------------</span>
<span class="c"># This variable holds the password that is to be used for all schemas in the</span>
<span class="c"># starter database.</span>
<span class="c">#-------------------------------------------------------------------------------</span>
oracle.install.db.config.starterdb.password.ALL<span class="o">=</span>

<span class="c">#-------------------------------------------------------------------------------</span>
<span class="c"># Specify the SYS password for the starter database.</span>
<span class="c">#-------------------------------------------------------------------------------</span>
oracle.install.db.config.starterdb.password.SYS<span class="o">=</span>

<span class="c">#-------------------------------------------------------------------------------</span>
<span class="c"># Specify the SYSTEM password for the starter database.</span>
<span class="c">#-------------------------------------------------------------------------------</span>
oracle.install.db.config.starterdb.password.SYSTEM<span class="o">=</span>

<span class="c">#-------------------------------------------------------------------------------</span>
<span class="c"># Specify the DBSNMP password for the starter database.</span>
<span class="c"># Applicable only when oracle.install.db.config.starterdb.managementOption=CLOUD_CONTROL</span>
<span class="c">#-------------------------------------------------------------------------------</span>
oracle.install.db.config.starterdb.password.DBSNMP<span class="o">=</span>

<span class="c">#-------------------------------------------------------------------------------</span>
<span class="c"># Specify the PDBADMIN password required for creation of Pluggable Database in the Container Database.</span>
<span class="c">#-------------------------------------------------------------------------------</span>
oracle.install.db.config.starterdb.password.PDBADMIN<span class="o">=</span>

<span class="c">#-------------------------------------------------------------------------------</span>
<span class="c"># Specify the management option to use for managing the database.</span>
<span class="c"># Options are:</span>
<span class="c"># 1. CLOUD_CONTROL - If you want to manage your database with Enterprise Manager Cloud Control along with Database Express.</span>
<span class="c"># 2. DEFAULT   -If you want to manage your database using the default Database Express option.</span>
<span class="c">#-------------------------------------------------------------------------------</span>
oracle.install.db.config.starterdb.managementOption<span class="o">=</span>

<span class="c">#-------------------------------------------------------------------------------</span>
<span class="c"># Specify the OMS host to connect to Cloud Control.</span>
<span class="c"># Applicable only when oracle.install.db.config.starterdb.managementOption=CLOUD_CONTROL</span>
<span class="c">#-------------------------------------------------------------------------------</span>
oracle.install.db.config.starterdb.omsHost<span class="o">=</span>

<span class="c">#-------------------------------------------------------------------------------</span>
<span class="c"># Specify the OMS port to connect to Cloud Control.</span>
<span class="c"># Applicable only when oracle.install.db.config.starterdb.managementOption=CLOUD_CONTROL</span>
<span class="c">#-------------------------------------------------------------------------------</span>
oracle.install.db.config.starterdb.omsPort<span class="o">=</span>

<span class="c">#-------------------------------------------------------------------------------</span>
<span class="c"># Specify the EM Admin user name to use to connect to Cloud Control.</span>
<span class="c"># Applicable only when oracle.install.db.config.starterdb.managementOption=CLOUD_CONTROL</span>
<span class="c">#-------------------------------------------------------------------------------</span>
oracle.install.db.config.starterdb.emAdminUser<span class="o">=</span>

<span class="c">#-------------------------------------------------------------------------------</span>
<span class="c"># Specify the EM Admin password to use to connect to Cloud Control.</span>
<span class="c"># Applicable only when oracle.install.db.config.starterdb.managementOption=CLOUD_CONTROL</span>
<span class="c">#-------------------------------------------------------------------------------</span>
oracle.install.db.config.starterdb.emAdminPassword<span class="o">=</span>

<span class="c">###############################################################################</span>
<span class="c">#                                                                             #</span>
<span class="c"># SPECIFY RECOVERY OPTIONS                                                    #</span>
<span class="c"># ------------------------------------                                        #</span>
<span class="c"># Recovery options for the database can be mentioned using the entries below  #</span>
<span class="c">#                                                                             #</span>
<span class="c">###############################################################################</span>

<span class="c">#------------------------------------------------------------------------------</span>
<span class="c"># This variable is to be set to false if database recovery is not required. Else </span>
<span class="c"># this can be set to true.</span>
<span class="c">#-------------------------------------------------------------------------------</span>
oracle.install.db.config.starterdb.enableRecovery<span class="o">=</span>

<span class="c">#-------------------------------------------------------------------------------</span>
<span class="c"># Specify the type of storage to use for the database.</span>
<span class="c"># It can be one of the following:</span>
<span class="c">#   - FILE_SYSTEM_STORAGE</span>
<span class="c">#   - ASM_STORAGE</span>
<span class="c">#-------------------------------------------------------------------------------</span>
oracle.install.db.config.starterdb.storageType<span class="o">=</span>

<span class="c">#-------------------------------------------------------------------------------</span>
<span class="c"># Specify the database file location which is a directory for datafiles, control</span>
<span class="c"># files, redo logs.         </span>
<span class="c">#</span>
<span class="c"># Applicable only when oracle.install.db.config.starterdb.storage=FILE_SYSTEM_STORAGE </span>
<span class="c">#-------------------------------------------------------------------------------</span>
oracle.install.db.config.starterdb.fileSystemStorage.dataLocation<span class="o">=</span>

<span class="c">#-------------------------------------------------------------------------------</span>
<span class="c"># Specify the recovery location.</span>
<span class="c">#</span>
<span class="c"># Applicable only when oracle.install.db.config.starterdb.storage=FILE_SYSTEM_STORAGE </span>
<span class="c">#-------------------------------------------------------------------------------</span>
oracle.install.db.config.starterdb.fileSystemStorage.recoveryLocation<span class="o">=</span>

<span class="c">#-------------------------------------------------------------------------------</span>
<span class="c"># Specify the existing ASM disk groups to be used for storage.</span>
<span class="c">#</span>
<span class="c"># Applicable only when oracle.install.db.config.starterdb.storageType=ASM_STORAGE</span>
<span class="c">#-------------------------------------------------------------------------------</span>
oracle.install.db.config.asm.diskGroup<span class="o">=</span>

<span class="c">#-------------------------------------------------------------------------------</span>
<span class="c"># Specify the password for ASMSNMP user of the ASM instance.                 </span>
<span class="c">#</span>
<span class="c"># Applicable only when oracle.install.db.config.starterdb.storage=ASM_STORAGE </span>
<span class="c">#-------------------------------------------------------------------------------</span>
oracle.install.db.config.asm.ASMSNMPPassword<span class="o">=</span>

<span class="c">#------------------------------------------------------------------------------</span>
<span class="c"># Specify the My Oracle Support Account Username.</span>
<span class="c">#</span>
<span class="c">#  Example   : MYORACLESUPPORT_USERNAME=abc@oracle.com</span>
<span class="c">#------------------------------------------------------------------------------</span>
<span class="nv">MYORACLESUPPORT_USERNAME</span><span class="o">=</span>

<span class="c">#------------------------------------------------------------------------------</span>
<span class="c"># Specify the My Oracle Support Account Username password.</span>
<span class="c">#</span>
<span class="c"># Example    : MYORACLESUPPORT_PASSWORD=password</span>
<span class="c">#------------------------------------------------------------------------------</span>
<span class="nv">MYORACLESUPPORT_PASSWORD</span><span class="o">=</span>

<span class="c">#------------------------------------------------------------------------------</span>
<span class="c"># Specify whether to enable the user to set the password for</span>
<span class="c"># My Oracle Support credentials. The value can be either true or false.</span>
<span class="c"># If left blank it will be assumed to be false.</span>
<span class="c">#</span>
<span class="c"># Example    : SECURITY_UPDATES_VIA_MYORACLESUPPORT=true</span>
<span class="c">#------------------------------------------------------------------------------</span>
<span class="nv">SECURITY_UPDATES_VIA_MYORACLESUPPORT</span><span class="o">=</span>

<span class="c">#------------------------------------------------------------------------------</span>
<span class="c"># Specify whether user doesn't want to configure Security Updates.</span>
<span class="c"># The value for this variable should be true if you don't want to configure</span>
<span class="c"># Security Updates, false otherwise.</span>
<span class="c">#</span>
<span class="c"># The value can be either true or false. If left blank it will be assumed</span>
<span class="c"># to be true.</span>
<span class="c">#</span>
<span class="c"># Example    : DECLINE_SECURITY_UPDATES=false</span>
<span class="c">#------------------------------------------------------------------------------</span>
<span class="nv">DECLINE_SECURITY_UPDATES</span><span class="o">=</span>

<span class="c">#------------------------------------------------------------------------------</span>
<span class="c"># Specify the Proxy server name. Length should be greater than zero.</span>
<span class="c">#</span>
<span class="c"># Example    : PROXY_HOST=proxy.domain.com </span>
<span class="c">#------------------------------------------------------------------------------</span>
<span class="nv">PROXY_HOST</span><span class="o">=</span>

<span class="c">#------------------------------------------------------------------------------</span>
<span class="c"># Specify the proxy port number. Should be Numeric and at least 2 chars.</span>
<span class="c">#</span>
<span class="c"># Example    : PROXY_PORT=25</span>
<span class="c">#------------------------------------------------------------------------------</span>
<span class="nv">PROXY_PORT</span><span class="o">=</span>

<span class="c">#------------------------------------------------------------------------------</span>
<span class="c"># Specify the proxy user name. Leave PROXY_USER and PROXY_PWD</span>
<span class="c"># blank if your proxy server requires no authentication.</span>
<span class="c">#</span>
<span class="c"># Example    : PROXY_USER=username</span>
<span class="c">#------------------------------------------------------------------------------</span>
<span class="nv">PROXY_USER</span><span class="o">=</span>

<span class="c">#------------------------------------------------------------------------------</span>
<span class="c"># Specify the proxy password. Leave PROXY_USER and PROXY_PWD  </span>
<span class="c"># blank if your proxy server requires no authentication.</span>
<span class="c">#</span>
<span class="c"># Example    : PROXY_PWD=password</span>
<span class="c">#------------------------------------------------------------------------------</span>
<span class="nv">PROXY_PWD</span><span class="o">=</span>

<span class="c">#------------------------------------------------------------------------------</span>
<span class="c"># Specify the Oracle Support Hub URL. </span>
<span class="c"># </span>
<span class="c"># Example    : COLLECTOR_SUPPORTHUB_URL=https://orasupporthub.company.com:8080/</span>
<span class="c">#------------------------------------------------------------------------------</span>
<span class="nv">COLLECTOR_SUPPORTHUB_URL</span><span class="o">=</span>
</pre></td></tr></tbody></table></code></pre></div></div>
<h2 id="43静默安装oracle">4.3静默安装Oracle</h2>
<p>静默安装参见<a href="https://oracle-base.com/articles/misc/oui-silent-installations">Oracle Universal Installer (OUI) Silent Installations</a>，找到12cR2的安装方式进行安装</p>

<p>①命令行方式安装</p>

<blockquote>
  <p>An alternative to the response file approach is to specify all the parameter values directly on the command line. For simple actions, this looks a lot clearer as you only have to specify non-default values for the action you are trying to perform.
响应文件方法的另一种方式是在命令行上直接指定所有的参数值。对于简单的操作，这看起来更清楚，因为您只需为正在执行的操作指定非默认值。</p>
</blockquote>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
</pre></td><td class="rouge-code"><pre><span class="o">[</span>oracle@solang response]<span class="nv">$ </span><span class="nb">cd</span> ~/database
<span class="o">[</span>oracle@solang database]<span class="nv">$ </span>./runInstaller <span class="nt">-ignoreSysPrereqs</span> <span class="nt">-ignorePrereq</span> <span class="nt">-waitforcompletion</span> <span class="se">\</span>
<span class="nt">-showProgress</span> <span class="nt">-silent</span> <span class="nt">-responseFile</span> /home/oracle/database/response/db_install.rsp <span class="se">\</span>
oracle.install.option<span class="o">=</span>INSTALL_DB_SWONLY <span class="se">\</span>
<span class="nv">UNIX_GROUP_NAME</span><span class="o">=</span>oinstall <span class="se">\</span>
<span class="nv">INVENTORY_LOCATION</span><span class="o">=</span>/usr/local/products/oracle12c/oraInventory <span class="se">\</span>
<span class="nv">ORACLE_HOME</span><span class="o">=</span>/usr/local/products/oracle12c <span class="se">\</span>
<span class="nv">ORACLE_BASE</span><span class="o">=</span>/usr/local/products <span class="se">\</span>
oracle.install.db.InstallEdition<span class="o">=</span>EE <span class="se">\</span>
oracle.install.db.OSDBA_GROUP<span class="o">=</span>dba <span class="se">\</span>
oracle.install.db.OSBACKUPDBA_GROUP<span class="o">=</span>dba <span class="se">\</span>
oracle.install.db.OSDGDBA_GROUP<span class="o">=</span>dba <span class="se">\</span>
oracle.install.db.OSKMDBA_GROUP<span class="o">=</span>dba <span class="se">\</span>
oracle.install.db.OSRACDBA_GROUP<span class="o">=</span>dba
</pre></td></tr></tbody></table></code></pre></div></div>
<p>②响应文件方式安装</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
</pre></td><td class="rouge-code"><pre><span class="o">[</span>oracle@solang response]<span class="nv">$ </span><span class="nb">cd</span> ~/database
<span class="o">[</span>oracle@solang database]<span class="nv">$ </span>./runInstaller <span class="nt">-ignoreSysPrereqs</span> <span class="nt">-ignorePrereq</span> <span class="nt">-waitforcompletion</span> <span class="se">\</span>
<span class="nt">-showProgress</span> <span class="nt">-silent</span> <span class="nt">-responseFile</span> /home/oracle/database/response/db_install.rsp

Starting Oracle Universal Installer...

Checking Temp space: must be greater than 500 MB.   Actual 21922 MB    Passed
Checking swap space: must be greater than 150 MB.   Actual 511 MB    Passed
Preparing to launch Oracle Universal Installer from /tmp/OraInstall2018-05-25_04-36-06PM. Please <span class="nb">wait</span> ...WARNING The Central Inventory is located <span class="k">in </span>the Oracle base.
   ACTION: Oracle recommends placing this Central Inventory <span class="k">in </span>a location outside the Oracle base directory.
You can find the log of this <span class="nb">install </span>session at:
 /usr/local/products/oracle12c/oraInventory/logs/installActions2018-05-25_04-36-06PM.log

Prepare <span class="k">in </span>progress.
..................................................   8% Done.

Prepare successful.

Copy files <span class="k">in </span>progress.
..................................................   17% Done.
..................................................   22% Done.
..................................................   27% Done.
..................................................   32% Done.
..................................................   40% Done.
..................................................   45% Done.
..................................................   50% Done.
..................................................   55% Done.
..................................................   60% Done.
..................................................   65% Done.
..................................................   70% Done.
..................................................   75% Done.
..................................................   80% Done.
....................
Copy files successful.

Link binaries <span class="k">in </span>progress.
..........
Link binaries successful.

Setup files <span class="k">in </span>progress.
..............................
Setup files successful.

Setup Inventory <span class="k">in </span>progress.

Setup Inventory successful.

Finish Setup successful.
The installation of Oracle Database 12c was successful.
Please check <span class="s1">'/usr/local/products/oracle12c/oraInventory/logs/silentInstall2018-05-25_04-36-06PM.log'</span> <span class="k">for </span>more details.

Setup Oracle Base <span class="k">in </span>progress.

Setup Oracle Base successful.
..................................................   95% Done.

As a root user, execute the following script<span class="o">(</span>s<span class="o">)</span>:
    1. /usr/local/products/oracle12c/oraInventory/orainstRoot.sh
    2. /usr/local/products/oracle12c/root.sh



..................................................   100% Done.

Successfully Setup Software.
</pre></td></tr></tbody></table></code></pre></div></div>
<p>安装完毕后切换到root用户执行以下脚本</p>

<blockquote>
  <p>As a root user, execute the following script(s):</p>
</blockquote>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre><span class="o">/</span><span class="nx">usr</span><span class="o">/</span><span class="nx">local</span><span class="o">/</span><span class="nx">products</span><span class="o">/</span><span class="nx">oracle12c</span><span class="o">/</span><span class="nx">oraInventory</span><span class="o">/</span><span class="nx">orainstRoot</span><span class="p">.</span><span class="nx">sh</span>
<span class="o">/</span><span class="nx">usr</span><span class="o">/</span><span class="nx">local</span><span class="o">/</span><span class="nx">products</span><span class="o">/</span><span class="nx">oracle12c</span><span class="o">/</span><span class="nx">root</span><span class="p">.</span><span class="nx">sh</span>
</pre></td></tr></tbody></table></code></pre></div></div>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
</pre></td><td class="rouge-code"><pre><span class="o">[</span>oracle@solang ~]<span class="nv">$ </span>su
<span class="o">[</span>root@solang ~]# /usr/local/products/oracle12c/oraInventory/orainstRoot.sh
Changing permissions of /usr/local/products/oracle12c/oraInventory.
Adding <span class="nb">read</span>,write permissions <span class="k">for </span>group.
Removing <span class="nb">read</span>,write,execute permissions <span class="k">for </span>world.

Changing groupname of /usr/local/products/oracle12c/oraInventory to oinstall.
The execution of the script is complete.
<span class="o">[</span>root@solang ~]# /usr/local/products/oracle12c/root.sh
Check /usr/local/products/oracle12c/install/root_solang2018-05-2516-45-15-468131776.log <span class="k">for </span>the output of root script
</pre></td></tr></tbody></table></code></pre></div></div>
<p>执行命令<code class="language-plaintext highlighter-rouge">sqlplus / as sysdba</code></p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre></td><td class="rouge-code"><pre><span class="o">[</span>oracle@solang ~]<span class="nv">$ </span>sqlplus / as sysdba

SQL<span class="k">*</span>Plus: Release 12.2.0.1.0 Production on Sun May 27 11:52:01 2018

Copyright <span class="o">(</span>c<span class="o">)</span> 1982, 2016, Oracle.  All rights reserved.

Connected to an idle instance.

SQL&gt;
</pre></td></tr></tbody></table></code></pre></div></div>
<p>此时数据库软件安装成功。</p>

<h1 id="5数据库创建">5.数据库创建</h1>
<p>参见<a href="https://oracle-base.com/articles/misc/database-configuration-assistant-dbca-silent-mode">Database Configuration Assistant (DBCA) : Creating Databases in Silent Mode</a>，使用数据库配置助手DBCA静默模式下创建数据库，具体设置参见<a href="https://docs.oracle.com/database/121/ADMIN/create.htm#ADMIN14032">Database Configuration Assistant Command Reference for Silent Mode</a></p>

<p>执行命令</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
</pre></td><td class="rouge-code"><pre>dbca <span class="nt">-silent</span> <span class="nt">-createDatabase</span> <span class="se">\</span>
 <span class="nt">-templateName</span> /usr/local/products/oracle12c/assistants/dbca/templates/General_Purpose.dbc <span class="se">\</span>
 <span class="nt">-gdbname</span> cdb1 <span class="nt">-sid</span> cdb1 <span class="nt">-responseFile</span> /home/oracle/database/response/dbca.rsp <span class="se">\</span>
 <span class="nt">-characterSet</span> AL32UTF8 <span class="se">\</span>
 <span class="nt">-sysPassword</span> OraPasswd1 <span class="se">\</span>
 <span class="nt">-systemPassword</span> OraPasswd1 <span class="se">\</span>
 <span class="nt">-createAsContainerDatabase</span> <span class="nb">true</span> <span class="se">\</span>
 <span class="nt">-numberOfPDBs</span> 1 <span class="se">\</span>
 <span class="nt">-pdbName</span> pdb1 <span class="se">\</span>
 <span class="nt">-pdbAdminPassword</span> OraPasswd1 <span class="se">\</span>
 <span class="nt">-automaticMemoryManagement</span> <span class="nb">false</span> <span class="se">\</span>
 <span class="nt">-ignorePreReqs</span>
</pre></td></tr></tbody></table></code></pre></div></div>
<p>数据文件目录datafileDestination默认安装在<code class="language-plaintext highlighter-rouge">$ORACLE_BASE/oradata</code>下</p>

<p><strong>注意:密码设置需要密码长度至少8位，包含至少1个大写字符，1个小写字符和1个数字[0-9]。</strong>
否则会有如下警告：</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
</pre></td><td class="rouge-code"><pre><span class="p">[</span><span class="nx">WARNING</span><span class="p">]</span> <span class="p">[</span><span class="nx">DBT</span><span class="o">-</span><span class="mi">06208</span><span class="p">]</span> <span class="nx">The</span> <span class="dl">'</span><span class="s1">SYS</span><span class="dl">'</span> <span class="nx">password</span> <span class="nx">entered</span> <span class="nx">does</span> <span class="nx">not</span> <span class="nx">conform</span> <span class="nx">to</span> <span class="nx">the</span> <span class="nx">Oracle</span> <span class="nx">recommended</span> <span class="nx">standards</span><span class="p">.</span>
   <span class="nx">CAUSE</span><span class="p">:</span> 
<span class="nx">a</span><span class="p">.</span> <span class="nx">Oracle</span> <span class="nx">recommends</span> <span class="nx">that</span> <span class="nx">the</span> <span class="nx">password</span> <span class="nx">entered</span> <span class="nx">should</span> <span class="nx">be</span> <span class="nx">at</span> <span class="nx">least</span> <span class="mi">8</span> <span class="nx">characters</span> <span class="k">in</span> <span class="nx">length</span><span class="p">,</span> <span class="nx">contain</span> <span class="nx">at</span> <span class="nx">least</span> <span class="mi">1</span> <span class="nx">uppercase</span> <span class="nx">character</span><span class="p">,</span> <span class="mi">1</span> <span class="nx">lower</span> <span class="k">case</span> <span class="nx">character</span> <span class="nx">and</span> <span class="mi">1</span> <span class="nx">digit</span> <span class="p">[</span><span class="mi">0</span><span class="o">-</span><span class="mi">9</span><span class="p">].</span>
<span class="nx">b</span><span class="p">.</span><span class="nx">The</span> <span class="nx">password</span> <span class="nx">entered</span> <span class="nx">is</span> <span class="nx">a</span> <span class="nx">keyword</span> <span class="nx">that</span> <span class="nx">Oracle</span> <span class="nx">does</span> <span class="nx">not</span> <span class="nx">recommend</span> <span class="nx">to</span> <span class="nx">be</span> <span class="nx">used</span> <span class="nx">as</span> <span class="nx">password</span>
   <span class="nx">ACTION</span><span class="p">:</span> <span class="nx">Specify</span> <span class="nx">a</span> <span class="nx">strong</span> <span class="nx">password</span><span class="p">.</span> <span class="nx">If</span> <span class="nx">required</span> <span class="nx">refer</span> <span class="nx">Oracle</span> <span class="nx">documentation</span> <span class="k">for</span> <span class="nx">guidelines</span><span class="p">.</span>
<span class="p">[</span><span class="nx">WARNING</span><span class="p">]</span> <span class="p">[</span><span class="nx">DBT</span><span class="o">-</span><span class="mi">06208</span><span class="p">]</span> <span class="nx">The</span> <span class="dl">'</span><span class="s1">SYSTEM</span><span class="dl">'</span> <span class="nx">password</span> <span class="nx">entered</span> <span class="nx">does</span> <span class="nx">not</span> <span class="nx">conform</span> <span class="nx">to</span> <span class="nx">the</span> <span class="nx">Oracle</span> <span class="nx">recommended</span> <span class="nx">standards</span><span class="p">.</span>
   <span class="nx">CAUSE</span><span class="p">:</span> 
<span class="nx">a</span><span class="p">.</span> <span class="nx">Oracle</span> <span class="nx">recommends</span> <span class="nx">that</span> <span class="nx">the</span> <span class="nx">password</span> <span class="nx">entered</span> <span class="nx">should</span> <span class="nx">be</span> <span class="nx">at</span> <span class="nx">least</span> <span class="mi">8</span> <span class="nx">characters</span> <span class="k">in</span> <span class="nx">length</span><span class="p">,</span> <span class="nx">contain</span> <span class="nx">at</span> <span class="nx">least</span> <span class="mi">1</span> <span class="nx">uppercase</span> <span class="nx">character</span><span class="p">,</span> <span class="mi">1</span> <span class="nx">lower</span> <span class="k">case</span> <span class="nx">character</span> <span class="nx">and</span> <span class="mi">1</span> <span class="nx">digit</span> <span class="p">[</span><span class="mi">0</span><span class="o">-</span><span class="mi">9</span><span class="p">].</span>
<span class="nx">b</span><span class="p">.</span><span class="nx">The</span> <span class="nx">password</span> <span class="nx">entered</span> <span class="nx">is</span> <span class="nx">a</span> <span class="nx">keyword</span> <span class="nx">that</span> <span class="nx">Oracle</span> <span class="nx">does</span> <span class="nx">not</span> <span class="nx">recommend</span> <span class="nx">to</span> <span class="nx">be</span> <span class="nx">used</span> <span class="nx">as</span> <span class="nx">password</span>
   <span class="nx">ACTION</span><span class="p">:</span> <span class="nx">Specify</span> <span class="nx">a</span> <span class="nx">strong</span> <span class="nx">password</span><span class="p">.</span> <span class="nx">If</span> <span class="nx">required</span> <span class="nx">refer</span> <span class="nx">Oracle</span> <span class="nx">documentation</span> <span class="k">for</span> <span class="nx">guidelines</span><span class="p">.</span>
<span class="p">[</span><span class="nx">WARNING</span><span class="p">]</span> <span class="p">[</span><span class="nx">DBT</span><span class="o">-</span><span class="mi">06208</span><span class="p">]</span> <span class="nx">The</span> <span class="dl">'</span><span class="s1">PDBADMIN</span><span class="dl">'</span> <span class="nx">password</span> <span class="nx">entered</span> <span class="nx">does</span> <span class="nx">not</span> <span class="nx">conform</span> <span class="nx">to</span> <span class="nx">the</span> <span class="nx">Oracle</span> <span class="nx">recommended</span> <span class="nx">standards</span><span class="p">.</span>
   <span class="nx">CAUSE</span><span class="p">:</span> 
<span class="nx">a</span><span class="p">.</span> <span class="nx">Oracle</span> <span class="nx">recommends</span> <span class="nx">that</span> <span class="nx">the</span> <span class="nx">password</span> <span class="nx">entered</span> <span class="nx">should</span> <span class="nx">be</span> <span class="nx">at</span> <span class="nx">least</span> <span class="mi">8</span> <span class="nx">characters</span> <span class="k">in</span> <span class="nx">length</span><span class="p">,</span> <span class="nx">contain</span> <span class="nx">at</span> <span class="nx">least</span> <span class="mi">1</span> <span class="nx">uppercase</span> <span class="nx">character</span><span class="p">,</span> <span class="mi">1</span> <span class="nx">lower</span> <span class="k">case</span> <span class="nx">character</span> <span class="nx">and</span> <span class="mi">1</span> <span class="nx">digit</span> <span class="p">[</span><span class="mi">0</span><span class="o">-</span><span class="mi">9</span><span class="p">].</span>
<span class="nx">b</span><span class="p">.</span><span class="nx">The</span> <span class="nx">password</span> <span class="nx">entered</span> <span class="nx">is</span> <span class="nx">a</span> <span class="nx">keyword</span> <span class="nx">that</span> <span class="nx">Oracle</span> <span class="nx">does</span> <span class="nx">not</span> <span class="nx">recommend</span> <span class="nx">to</span> <span class="nx">be</span> <span class="nx">used</span> <span class="nx">as</span> <span class="nx">password</span>
   <span class="nx">ACTION</span><span class="p">:</span> <span class="nx">Specify</span> <span class="nx">a</span> <span class="nx">strong</span> <span class="nx">password</span><span class="p">.</span> <span class="nx">If</span> <span class="nx">required</span> <span class="nx">refer</span> <span class="nx">Oracle</span> <span class="nx">documentation</span> <span class="k">for</span> <span class="nx">guidelines</span><span class="p">.</span>
</pre></td></tr></tbody></table></code></pre></div></div>
<p>执行</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
</pre></td><td class="rouge-code"><pre><span class="o">[</span>oracle@solang ~]<span class="nv">$ </span>dbca <span class="nt">-silent</span> <span class="nt">-createDatabase</span> <span class="se">\</span>
<span class="o">&gt;</span>  <span class="nt">-templateName</span> /usr/local/products/oracle12c/assistants/dbca/templates/General_Purpose.dbc <span class="se">\</span>
<span class="o">&gt;</span>  <span class="nt">-gdbname</span> cdb1 <span class="nt">-sid</span> cdb1 <span class="nt">-responseFile</span> /home/oracle/database/response/dbca.rsp <span class="se">\</span>
<span class="o">&gt;</span>  <span class="nt">-characterSet</span> AL32UTF8 <span class="se">\</span>
<span class="o">&gt;</span>  <span class="nt">-sysPassword</span> OraPasswd1 <span class="se">\</span>
<span class="o">&gt;</span>  <span class="nt">-systemPassword</span> OraPasswd1 <span class="se">\</span>
<span class="o">&gt;</span>  <span class="nt">-createAsContainerDatabase</span> <span class="nb">true</span> <span class="se">\</span>
<span class="o">&gt;</span>  <span class="nt">-numberOfPDBs</span> 1 <span class="se">\</span>
<span class="o">&gt;</span>  <span class="nt">-pdbName</span> pdb1 <span class="se">\</span>
<span class="o">&gt;</span>  <span class="nt">-pdbAdminPassword</span> OraPasswd1 <span class="se">\</span>
<span class="o">&gt;</span>  <span class="nt">-automaticMemoryManagement</span> <span class="nb">false</span> <span class="se">\</span>
<span class="o">&gt;</span>  <span class="nt">-ignorePreReqs</span>

Copying database files
1% <span class="nb">complete
</span>13% <span class="nb">complete
</span>25% <span class="nb">complete
</span>Creating and starting Oracle instance
26% <span class="nb">complete
</span>30% <span class="nb">complete
</span>31% <span class="nb">complete
</span>35% <span class="nb">complete
</span>38% <span class="nb">complete
</span>39% <span class="nb">complete
</span>41% <span class="nb">complete
</span>Completing Database Creation
42% <span class="nb">complete
</span>43% <span class="nb">complete
</span>44% <span class="nb">complete
</span>46% <span class="nb">complete
</span>49% <span class="nb">complete
</span>50% <span class="nb">complete
</span>Creating Pluggable Databases
55% <span class="nb">complete
</span>75% <span class="nb">complete
</span>Executing Post Configuration Actions
100% <span class="nb">complete
</span>Look at the log file <span class="s2">"/usr/local/products/cfgtoollogs/dbca/cdb1/cdb1.log"</span> <span class="k">for </span>further details.
</pre></td></tr></tbody></table></code></pre></div></div>
<p>再次执行命令<code class="language-plaintext highlighter-rouge">sqlplus / as sysdba</code></p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
</pre></td><td class="rouge-code"><pre><span class="o">[</span>oracle@solang ~]<span class="nv">$ </span>sqlplus / as sysdba

SQL<span class="k">*</span>Plus: Release 12.2.0.1.0 Production on Sun May 27 15:28:18 2018

Copyright <span class="o">(</span>c<span class="o">)</span> 1982, 2016, Oracle.  All rights reserved.


Connected to:
Oracle Database 12c Enterprise Edition Release 12.2.0.1.0 - 64bit Production

SQL&gt; <span class="k">select </span>status from v<span class="nv">$instance</span><span class="p">;</span>

STATUS
<span class="nt">------------</span>
OPEN

SQL&gt;  
</pre></td></tr></tbody></table></code></pre></div></div>
<p>此时数据库创建成功。</p>

<h1 id="6数据库监听配置">6.数据库监听配置</h1>
<p>未配置监听前执行<code class="language-plaintext highlighter-rouge">lsnrctl status</code></p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
</pre></td><td class="rouge-code"><pre><span class="o">[</span>oracle@solang ~]<span class="nv">$ </span>lsnrctl status

LSNRCTL <span class="k">for </span>Linux: Version 12.2.0.1.0 - Production on 27-MAY-2018 17:20:08

Copyright <span class="o">(</span>c<span class="o">)</span> 1991, 2016, Oracle.  All rights reserved.

Connecting to <span class="o">(</span><span class="nv">ADDRESS</span><span class="o">=(</span><span class="nv">PROTOCOL</span><span class="o">=</span>tcp<span class="o">)(</span><span class="nv">HOST</span><span class="o">=)(</span><span class="nv">PORT</span><span class="o">=</span>1521<span class="o">))</span>
TNS-12541: TNS:no listener
 TNS-12560: TNS:protocol adapter error
  TNS-00511: No listener
   Linux Error: 111: Connection refused
</pre></td></tr></tbody></table></code></pre></div></div>
<p>使用默认的netca.rsp文件
执行命令<code class="language-plaintext highlighter-rouge">netca -silent -responseFile /home/oracle/database/response/netca.rsp</code></p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
</pre></td><td class="rouge-code"><pre><span class="o">[</span>oracle@solang ~]<span class="nv">$ </span>netca <span class="nt">-silent</span> <span class="nt">-responseFile</span> /home/oracle/database/response/netca.rsp

Parsing <span class="nb">command </span>line arguments:
    Parameter <span class="s2">"silent"</span> <span class="o">=</span> <span class="nb">true
    </span>Parameter <span class="s2">"responsefile"</span> <span class="o">=</span> /home/oracle/database/response/netca.rsp
Done parsing <span class="nb">command </span>line arguments.
Oracle Net Services Configuration:
Profile configuration complete.
Oracle Net Listener Startup:
    Running Listener Control: 
      /usr/local/products/oracle12c/bin/lsnrctl start LISTENER
    Listener Control complete.
    Listener started successfully.
Listener configuration complete.
Oracle Net Services configuration successful. The <span class="nb">exit </span>code is 0
</pre></td></tr></tbody></table></code></pre></div></div>
<p>再次执行命令<code class="language-plaintext highlighter-rouge">lsnrctl status</code></p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
</pre></td><td class="rouge-code"><pre><span class="o">[</span>oracle@solang ~]<span class="nv">$ </span>lsnrctl status

LSNRCTL <span class="k">for </span>Linux: Version 12.2.0.1.0 - Production on 27-MAY-2018 18:04:32

Copyright <span class="o">(</span>c<span class="o">)</span> 1991, 2016, Oracle.  All rights reserved.

Connecting to <span class="o">(</span><span class="nv">DESCRIPTION</span><span class="o">=(</span><span class="nv">ADDRESS</span><span class="o">=(</span><span class="nv">PROTOCOL</span><span class="o">=</span>TCP<span class="o">)(</span><span class="nv">HOST</span><span class="o">=</span>solang<span class="o">)(</span><span class="nv">PORT</span><span class="o">=</span>1521<span class="o">)))</span>
STATUS of the LISTENER
<span class="nt">------------------------</span>
Alias                     LISTENER
Version                   TNSLSNR <span class="k">for </span>Linux: Version 12.2.0.1.0 - Production
Start Date                27-MAY-2018 18:03:02
Uptime                    0 days 0 hr. 1 min. 30 sec
Trace Level               off
Security                  ON: Local OS Authentication
SNMP                      OFF
Listener Parameter File   /usr/local/products/oracle12c/network/admin/listener.ora
Listener Log File         /usr/local/products/diag/tnslsnr/solang/listener/alert/log.xml
Listening Endpoints Summary...
  <span class="o">(</span><span class="nv">DESCRIPTION</span><span class="o">=(</span><span class="nv">ADDRESS</span><span class="o">=(</span><span class="nv">PROTOCOL</span><span class="o">=</span>tcp<span class="o">)(</span><span class="nv">HOST</span><span class="o">=</span>solang<span class="o">)(</span><span class="nv">PORT</span><span class="o">=</span>1521<span class="o">)))</span>
  <span class="o">(</span><span class="nv">DESCRIPTION</span><span class="o">=(</span><span class="nv">ADDRESS</span><span class="o">=(</span><span class="nv">PROTOCOL</span><span class="o">=</span>ipc<span class="o">)(</span><span class="nv">KEY</span><span class="o">=</span>EXTPROC1521<span class="o">)))</span>
Services Summary...
Service <span class="s2">"6d2bd82e6b445902e053f05313acb216"</span> has 1 instance<span class="o">(</span>s<span class="o">)</span><span class="nb">.</span>
  Instance <span class="s2">"cdb1"</span>, status READY, has 1 handler<span class="o">(</span>s<span class="o">)</span> <span class="k">for </span>this service...
Service <span class="s2">"cdb1"</span> has 1 instance<span class="o">(</span>s<span class="o">)</span><span class="nb">.</span>
  Instance <span class="s2">"cdb1"</span>, status READY, has 1 handler<span class="o">(</span>s<span class="o">)</span> <span class="k">for </span>this service...
Service <span class="s2">"cdb1XDB"</span> has 1 instance<span class="o">(</span>s<span class="o">)</span><span class="nb">.</span>
  Instance <span class="s2">"cdb1"</span>, status READY, has 1 handler<span class="o">(</span>s<span class="o">)</span> <span class="k">for </span>this service...
Service <span class="s2">"pdb1"</span> has 1 instance<span class="o">(</span>s<span class="o">)</span><span class="nb">.</span>
  Instance <span class="s2">"cdb1"</span>, status READY, has 1 handler<span class="o">(</span>s<span class="o">)</span> <span class="k">for </span>this service...
The <span class="nb">command </span>completed successfully
</pre></td></tr></tbody></table></code></pre></div></div>
<p>此时数据库监听配置成功。</p>

<p>参见<a href="https://docs.oracle.com/en/database/oracle/oracle-database/12.2/admqs/configuring-the-network-environment.html#GUID-C6DD213A-D37E-4905-983D-F9DCA8AE286A">Configuring the Network Environment</a>
启动或关闭监听</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre>lsnrctl start
lsnrctl stop
</pre></td></tr></tbody></table></code></pre></div></div>
<h1 id="7自动启动和关闭数据库">7.自动启动和关闭数据库</h1>
<p>参见<a href="https://docs.oracle.com/en/database/oracle/oracle-database/12.2/unxar/stopping-and-starting-oracle-software.html#GUID-CA969105-B62B-4F5B-B35C-8FB64EC93FAA">Automating Database Startup and Shutdown</a>，以<code class="language-plaintext highlighter-rouge">root</code>用户登录</p>

<h2 id="71修改etcoratab">7.1修改/etc/oratab</h2>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre></td><td class="rouge-code"><pre><span class="o">[</span>root@solang ~]# vi /etc/oratab

<span class="c"># 最后一行，将N修改为Y</span>
cdb1:/usr/local/products/oracle12c:Y
</pre></td></tr></tbody></table></code></pre></div></div>
<h2 id="72创建dbora文件">7.2创建dbora文件</h2>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
</pre></td><td class="rouge-code"><pre><span class="o">[</span>root@solang ~]# vi /etc/init.d/dbora

<span class="c">#! /bin/sh</span>
<span class="c"># description: Oracle auto start-stop script.</span>
<span class="c">#</span>
<span class="c"># Set ORA_HOME to be equivalent to the $ORACLE_HOME</span>
<span class="c"># from which you wish to execute dbstart and dbshut;</span>
<span class="c">#</span>
<span class="c"># Set ORA_OWNER to the user id of the owner of the</span>
<span class="c"># Oracle database in ORACLE_HOME.</span>

<span class="nv">ORA_HOME</span><span class="o">=</span>/usr/local/products/oracle12c
<span class="nv">ORA_OWNER</span><span class="o">=</span>oracle

<span class="k">case</span> <span class="s2">"</span><span class="nv">$1</span><span class="s2">"</span> <span class="k">in</span>
<span class="s1">'start'</span><span class="p">)</span> 
    <span class="c"># Start the Oracle databases:</span>
    <span class="c"># The following command assumes that the oracle login</span>
    <span class="c"># will not prompt the user for any values</span>
    <span class="c"># Remove "&amp;" if you don't want startup as a background process.</span>
    su - <span class="nv">$ORA_OWNER</span> <span class="nt">-c</span> <span class="s2">"</span><span class="nv">$ORA_HOME</span><span class="s2">/bin/dbstart </span><span class="nv">$ORA_HOME</span><span class="s2">"</span> &amp;
    <span class="nb">touch</span> /var/lock/subsys/dbora
    <span class="p">;;</span>

<span class="s1">'stop'</span><span class="p">)</span>
    <span class="c"># Stop the Oracle databases:</span>
    <span class="c"># The following command assumes that the oracle login</span>
    <span class="c"># will not prompt the user for any values</span>
    su - <span class="nv">$ORA_OWNER</span> <span class="nt">-c</span> <span class="s2">"</span><span class="nv">$ORA_HOME</span><span class="s2">/bin/dbshut </span><span class="nv">$ORA_HOME</span><span class="s2">"</span> &amp;
    <span class="nb">rm</span> <span class="nt">-f</span> /var/lock/subsys/dbora
    <span class="p">;;</span>
<span class="k">esac</span>
</pre></td></tr></tbody></table></code></pre></div></div>
<p><code class="language-plaintext highlighter-rouge">ORA_HOME</code>设置为$ORACLE_HOME，<code class="language-plaintext highlighter-rouge">ORA_OWNER</code>设置为oracle用户</p>

<h2 id="73修改dbora组和文件权限">7.3修改dbora组和文件权限</h2>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td><td class="rouge-code"><pre><span class="nb">chgrp </span>dba /etc/init.d/dbora
<span class="nb">chmod </span>750 /etc/init.d/dbora

<span class="o">[</span>root@solang ~]# <span class="nb">chgrp </span>dba /etc/init.d/dbora
<span class="o">[</span>root@solang ~]# <span class="nb">chmod </span>750 /etc/init.d/dbora
</pre></td></tr></tbody></table></code></pre></div></div>
<h2 id="74创建符号链接">7.4创建符号链接</h2>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre></td><td class="rouge-code"><pre><span class="nb">ln</span> <span class="nt">-s</span> /etc/init.d/dbora /etc/rc.d/rc0.d/K01dbora
<span class="nb">ln</span> <span class="nt">-s</span> /etc/init.d/dbora /etc/rc.d/rc3.d/S99dbora
<span class="nb">ln</span> <span class="nt">-s</span> /etc/init.d/dbora /etc/rc.d/rc5.d/S99dbora

<span class="o">[</span>root@solang ~]# <span class="nb">ln</span> <span class="nt">-s</span> /etc/init.d/dbora /etc/rc.d/rc0.d/K01dbora
<span class="o">[</span>root@solang ~]# <span class="nb">ln</span> <span class="nt">-s</span> /etc/init.d/dbora /etc/rc.d/rc3.d/S99dbora
<span class="o">[</span>root@solang ~]# <span class="nb">ln</span> <span class="nt">-s</span> /etc/init.d/dbora /etc/rc.d/rc5.d/S99dbora
</pre></td></tr></tbody></table></code></pre></div></div>
<p>将机器重启，Oracle数据库开机自动启动。</p>

<p>在oracle用户中单独启动和关闭数据库</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre><span class="o">[</span>oracle@solang ~]<span class="nv">$ $ORACLE_HOME</span>/bin/dbstart <span class="nv">$ORACLE_HOME</span>
<span class="o">[</span>oracle@solang ~]<span class="nv">$ $ORACLE_HOME</span>/bin/dbshut <span class="nv">$ORACLE_HOME</span>
</pre></td></tr></tbody></table></code></pre></div></div>


                <hr style="visibility: hidden;">
                <ul class="pager">
                    
                    <li class="previous">
                        <a href="/2019/10/31/Java-Map%E8%BD%ACJavaBean/" data-toggle="tooltip" data-placement="top" title="Map转javaBean">
                        Previous<br>
                        <span>Map转javaBean</span>
                        </a>
                    </li>
                    
                    
                    <li class="next">
                        <a href="/2019/11/28/Java%E4%B9%8B-SpringMVC/" data-toggle="tooltip" data-placement="top" title="SpringMVC">
                        Next<br>
                        <span>SpringMVC</span>
                        </a>
                    </li>
                    
                </ul>
                <hr style="visibility: hidden;">

                <!-- Gitalk 评论 start  -->
                
                <!-- Link Gitalk 的支持文件  -->
                <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css">
                <script src="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js"></script>

                <div id="gitalk-container"></div>
                <script type="text/javascript">
                    var gitalk = new Gitalk({

                        // gitalk的主要参数
                        clientID: '2542452a44c3a8034a35',
                        clientSecret: '3119b189eb567a7a89c2440917078889d1689226',
                        repo: 'xprocon.github.io',
                        owner: 'xprocon',
                        admin: ['xprocon'],
                        id: 'post',
                        distractionFreeMode: true,  //是否启用评论全屏遮罩.
                        createIssueManually: true, //如果当前页面没有相应的 isssue ，且登录的用户属于 admin，则会自动创建 issue。如果设置为 true，则显示一个初始化页面，创建 issue 需要点击 init 按钮。
                        perPage: 15 //每页多少个评论
                    });
                    gitalk.render('gitalk-container');
                </script>
                
                <!-- Gitalk end -->

                

                
            </div>  

    <!-- Side Catalog Container -->
        
            <div class="
                col-lg-2 col-lg-offset-0
                visible-lg-block
                sidebar-container
                catalog-container">
                <div class="side-catalog">
                    <hr class="hidden-sm hidden-xs">
                    <h5>
                        <a class="catalog-toggle" href="#">CATALOG</a>
                    </h5>
                    <ul class="catalog-body"></ul>
                </div>
            </div>
        

    <!-- Sidebar Container -->
            <div class="
                col-lg-8 col-lg-offset-2
                col-md-10 col-md-offset-1
                sidebar-container">

                <!-- Featured Tags -->
                


<section>
    
        <hr class="hidden-sm hidden-xs">
    
    <h5><a href="/archive/">FEATURED TAGS</a></h5>
    <div class="tags">
        
        
        
        
        
        
                <a data-sort="0042" 
                    href="/archive/?tag=Java"
                    title="Java"
                    rel="6">Java</a>
        
                <a data-sort="0032" 
                    href="/archive/?tag=linux"
                    title="linux"
                    rel="16">linux</a>
        
                <a data-sort="0035" 
                    href="/archive/?tag=%E8%BF%90%E7%BB%B4"
                    title="运维"
                    rel="13">运维</a>
        
                <a data-sort="0036" 
                    href="/archive/?tag=%E5%AD%A6%E4%B9%A0"
                    title="学习"
                    rel="12">学习</a>
        
                <a data-sort="0037" 
                    href="/archive/?tag=java"
                    title="java"
                    rel="11">java</a>
        
                <a data-sort="0039" 
                    href="/archive/?tag=centos"
                    title="centos"
                    rel="9">centos</a>
        
                <a data-sort="0043" 
                    href="/archive/?tag=%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83"
                    title="开发环境"
                    rel="5">开发环境</a>
        
                <a data-sort="0043" 
                    href="/archive/?tag=nginx"
                    title="nginx"
                    rel="5">nginx</a>
        
                <a data-sort="0044" 
                    href="/archive/?tag=%E5%AE%B9%E5%99%A8%E5%8C%96"
                    title="容器化"
                    rel="4">容器化</a>
        
                <a data-sort="0044" 
                    href="/archive/?tag=git"
                    title="git"
                    rel="4">git</a>
        
                <a data-sort="0044" 
                    href="/archive/?tag=spring"
                    title="spring"
                    rel="4">spring</a>
        
                <a data-sort="0045" 
                    href="/archive/?tag=%E4%BA%91%E5%8E%9F%E7%94%9F"
                    title="云原生"
                    rel="3">云原生</a>
        
                <a data-sort="0045" 
                    href="/archive/?tag=%E5%9F%BA%E7%A1%80"
                    title="基础"
                    rel="3">基础</a>
        
                <a data-sort="0045" 
                    href="/archive/?tag=jetbrains"
                    title="jetbrains"
                    rel="3">jetbrains</a>
        
                <a data-sort="0045" 
                    href="/archive/?tag=python"
                    title="python"
                    rel="3">python</a>
    </div>
</section>


                <!-- Friends Blog -->
                
<hr>
<h5>FRIENDS</h5>
<ul class="list-inline">
  
  <li><a href="https://www.baidu.com/">百度（baidu）</a></li>
  
  <li><a href="http://10.175.194.215:8080/">IT工具箱（ittools）</a></li>
  
  <li><a href="https://www.emojiall.com/zh-hans">emoji（emoji搜索）</a></li>
  
  <li><a href="https://www.v2ex.com/">v2ex（v2ex论坛）</a></li>
  
  <li><a href="https://www.reddit.com/r/China_irl/">reddit（流浪防区）</a></li>
  
</ul>

            </div>
        </div>
    </div>
</article>

<!-- add support for mathjax by voleking-->









<!-- async load function -->
<script>
    function async(u, c) {
      var d = document, t = 'script',
          o = d.createElement(t),
          s = d.getElementsByTagName(t)[0];
      o.src = u;
      if (c) { o.addEventListener('load', function (e) { c(null, e); }, false); }
      s.parentNode.insertBefore(o, s);
    }
</script>
<!-- anchor-js, Doc:http://bryanbraun.github.io/anchorjs/ -->
<script>
    async("//cdnjs.cloudflare.com/ajax/libs/anchor-js/1.1.1/anchor.min.js",function(){
        anchors.options = {
          visible: 'hover',
          placement: 'right',
          // icon: '#'
        };
        anchors.add().remove('.intro-header h1').remove('.subheading').remove('.sidebar-container h5');
    })
</script>
<style>
    /* place left on bigger screen */
    @media all and (min-width: 800px) {
        .anchorjs-link{
            position: absolute;
            left: -0.75em;
            font-size: 1.1em;
            margin-top : -0.1em;
        }
    }
</style>



    <!-- Footer -->
<footer>
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <!-- SNS Link -->
                


<ul class="list-inline text-center">


  
  
  <li>
    <a href="https://twitter.com/xprocon">
      <span class="fa-stack fa-lg">
        <i class="fa fa-circle fa-stack-2x"></i>
        <i class="fa fa-twitter fa-stack-1x fa-inverse"></i>
      </span>
    </a>
  </li>
  
  
  <li>
    <a target="_blank" href="https://www.zhihu.com/people/procon">
      <span class="fa-stack fa-lg">
        <i class="fa fa-circle fa-stack-2x"></i>
        <i class="fa  fa-stack-1x fa-inverse">知</i>
      </span>
    </a>
  </li>
  
  
  <li>
    <a target="_blank" href="http://weibo.com/huangpuguang1ni">
      <span class="fa-stack fa-lg">
        <i class="fa fa-circle fa-stack-2x"></i>
        <i class="fa fa-weibo fa-stack-1x fa-inverse"></i>
      </span>
    </a>
  </li>
  
  
  
  <li>
    <a target="_blank" href="https://github.com/xprocon">
      <span class="fa-stack fa-lg">
        <i class="fa fa-circle fa-stack-2x"></i>
        <i class="fa fa-github fa-stack-1x fa-inverse"></i>
      </span>
    </a>
  </li>
  
  
</ul>

                <p class="copyright text-muted">
                    Copyright &copy; Procon's Tech Life Blog 2024
                    <br>
                    Powered by <a href="https://blog.procon.cc">Procon Blog</a>
<!--                    <iframe style="margin-left: 2px; margin-bottom:-5px;" frameborder="0" scrolling="0" width="100px"-->
<!--                        height="20px"-->
<!--                        src="https://ghbtns.com/github-btn.html?user=huxpro&repo=huxpro.github.io&type=star&count=true">-->
<!--                    </iframe>-->
                </p>
            </div>
        </div>
    </div>
</footer>

<!-- jQuery -->
<script src="/js/jquery.min.js "></script>

<!-- Bootstrap Core JavaScript -->
<!-- Currently, only navbar scroll-down effect at desktop still depends on this -->
<script src="/js/bootstrap.min.js "></script>

<!-- Custom Theme JavaScript -->
<script src="/js/hux-blog.min.js "></script>

<!-- Simple Jekyll Search -->
<script src="/js/simple-jekyll-search.min.js"></script>

<!-- Service Worker -->


<!-- async load function -->
<script>
    function async(u, c) {
        var d = document, t = 'script',
            o = d.createElement(t),
            s = d.getElementsByTagName(t)[0];
        o.src = u;
        if (c) { o.addEventListener('load', function (e) { c(null, e); }, false); }
        s.parentNode.insertBefore(o, s);
    }
</script>

<!--
     Because of the native support for backtick-style fenced code blocks
     right within the Markdown is landed in Github Pages,
     From V1.6, There is no need for Highlight.js,
     so Huxblog drops it officially.

     - https://github.com/blog/2100-github-pages-now-faster-and-simpler-with-jekyll-3-0
     - https://help.github.com/articles/creating-and-highlighting-code-blocks/
     - https://github.com/jneen/rouge/wiki/list-of-supported-languages-and-lexers
-->
<!--
    <script>
        async("http://cdn.bootcss.com/highlight.js/8.6/highlight.min.js", function(){
            hljs.initHighlightingOnLoad();
        })
    </script>
    <link href="http://cdn.bootcss.com/highlight.js/8.6/styles/github.min.css" rel="stylesheet">
-->







<!--fastClick.js -->
<script>
    async("//cdnjs.cloudflare.com/ajax/libs/fastclick/1.0.6/fastclick.min.js", function () {
        var $nav = document.querySelector("nav");
        if ($nav) FastClick.attach($nav);
    })
</script>


<!-- Google Analytics -->



<!-- Baidu Tongji -->



<!-- Side Catalog -->

<script type="text/javascript">
    function generateCatalog(selector) {

        // interop with multilangual 
        if ('' == 'true') {
            _containerSelector = 'div.post-container.active'
        } else {
            _containerSelector = 'div.post-container'
        }

        // init
        var P = $(_containerSelector), a, n, t, l, i, c;
        a = P.find('h1,h2,h3,h4,h5,h6');

        // clean
        $(selector).html('')

        // appending
        a.each(function () {
            n = $(this).prop('tagName').toLowerCase();
            i = "#" + $(this).prop('id');
            t = $(this).text();
            c = $('<a href="' + i + '" rel="nofollow">' + t + '</a>');
            l = $('<li class="' + n + '_nav"></li>').append(c);
            $(selector).append(l);
        });
        return true;
    }

    generateCatalog(".catalog-body");

    // toggle side catalog
    $(".catalog-toggle").click((function (e) {
        e.preventDefault();
        $('.side-catalog').toggleClass("fold")
    }))

    /*
     * Doc: https://github.com/davist11/jQuery-One-Page-Nav
     * Fork by Hux to support padding
     */
    async("/js/jquery.nav.js", function () {
        $('.catalog-body').onePageNav({
            currentClass: "active",
            changeHash: !1,
            easing: "swing",
            filter: "",
            scrollSpeed: 700,
            scrollOffset: 0,
            scrollThreshold: .2,
            begin: null,
            end: null,
            scrollChange: null,
            padding: 80
        });
    });
</script>



<!-- Multi-Lingual -->


<!-- Simple Jekyll Search -->
<script>
    // https://stackoverflow.com/questions/1912501/unescape-html-entities-in-javascript
    function htmlDecode(input) {
        var e = document.createElement('textarea');
        e.innerHTML = input;
        // handle case of empty input
        return e.childNodes.length === 0 ? "" : e.childNodes[0].nodeValue;
    }

    SimpleJekyllSearch({
        searchInput: document.getElementById('search-input'),
        resultsContainer: document.getElementById('search-results'),
        json: '/search.json',
        searchResultTemplate: '<div class="post-preview item"><a href="{url}"><h2 class="post-title">{title}</h2><h3 class="post-subtitle">{subtitle}</h3><hr></a></div>',
        noResultsText: 'No results',
        limit: 50,
        fuzzy: false,
        // a hack to get escaped subtitle unescaped. for some reason, 
        // post.subtitle w/o escape filter nuke entire search.
        templateMiddleware: function (prop, value, template) {
            if (prop === 'subtitle' || prop === 'title') {
                if (value.indexOf("code")) {
                    return htmlDecode(value);
                } else {
                    return value;
                }
            }
        }
    });

    $(document).ready(function () {
        var $searchPage = $('.search-page');
        var $searchOpen = $('.search-icon');
        var $searchClose = $('.search-icon-close');
        var $searchInput = $('#search-input');
        var $body = $('body');

        $searchOpen.on('click', function (e) {
            e.preventDefault();
            $searchPage.toggleClass('search-active');
            var prevClasses = $body.attr('class') || '';
            setTimeout(function () {
                $body.addClass('no-scroll');
            }, 400)

            if ($searchPage.hasClass('search-active')) {
                $searchClose.on('click', function (e) {
                    e.preventDefault();
                    $searchPage.removeClass('search-active');
                    $body.attr('class', prevClasses);  // from closure 
                });
                $searchInput.focus();
            }
        });
    });
</script>


<!-- Image to hack wechat -->
<img src="/img/icon_wechat.png" width="0" height="0" />
<!-- Migrate from head to bottom, no longer block render and still work -->

</body>

</html>
